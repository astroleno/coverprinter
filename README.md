# CoverPrinter - AI封面生成器

## 项目简介

CoverPrinter 是一个基于 Next.js 和 AI 的封面设计生成工具，支持微信公众号和小红书等多种平台的封面设计。通过选择不同的设计风格和输入内容，可以快速生成专业的封面设计。

## 主要功能

### 1. 多平台封面生成
- **微信公众号封面**：支持主封面图和朋友圈分享图的双图布局
- **小红书封面**：专为小红书平台优化的封面设计

### 2. 丰富的设计风格
- 数字极简票券风
- 新潮工业反叛风  
- 现代商务资讯卡片风
- 柔和科技卡片风
- 奢华自然情绪风
- 极简网格封面风
- 新构成主义教育风
- 流体科技蓝风
- 支持自定义风格（可直接输入）

### 3. AI 驱动生成
- 支持多种 AI 模型（Claude、GPT-4、DeepSeek 等）
- 流式输出，实时显示生成结果
- 智能内容替换和风格融合

### 4. 便捷的操作体验
- 一键下载 HTML 代码
- 实时预览生成效果
- 复制粘贴功能
- API 连通性测试
- 支持自定义模板和风格输入
- 结果卡片可折叠，界面风格统一
- 全局竹色主题，风格清新统一
- 详细错误处理与友好提示

## 技术架构

### 前端技术栈
- **Next.js 15.3.4**：React 服务端渲染框架
- **Material-UI (MUI)**：企业级 UI 组件库，主色为竹色#769164
- **TypeScript**：类型安全的 JavaScript
- **Axios**：HTTP 请求库
- **html2canvas**：HTML 转图片功能

### 后端接口
- **Next.js API Routes**：服务端 API 接口
- **文件系统读取**：动态读取风格文件和提示词模板
- **代理转发**：支持自定义 API 代理

### 项目结构
```
coverprinter/
├── app/                    # Next.js App Router
│   ├── layout.tsx         # 全局布局
│   ├── page.tsx           # 主页面组件
│   └── theme-provider.tsx # 主题Provider
├── pages/api/             # API 接口
│   ├── styles.ts          # 风格列表接口
│   ├── prompts.ts         # 提示词模板接口
│   └── proxy.ts           # 代理转发接口
├── style/                 # 风格文件目录
│   ├── style_*.md         # 各种设计风格文件
├── prompt/                # 提示词模板目录
│   ├── wechat.md          # 微信公众号模板
│   └── xhs.md             # 小红书模板
└── package.json           # 项目依赖配置
```

## 安装和运行

### 环境要求
- Node.js 18+ 
- npm 或 yarn

### 安装步骤

1. **克隆项目**
```bash
git clone <repository-url>
cd coverprinter
```

2. **安装依赖**
```bash
npm install
```

3. **启动开发服务器**
```bash
npm run dev
```

4. **访问应用**
打开浏览器访问 `http://localhost:3000`

## 使用说明

### 1. API 配置
- **API 转发代理 URL**：如需自定义代理，填写代理地址
- **API Key**：部分 AI 服务需要填写 API 密钥
- **模型选择**：选择适合的 AI 模型

### 2. 生成封面
1. 选择目标平台（微信公众号/小红书/自定义）
2. 选择设计风格（支持自定义）
3. 填写必要的内容信息或自定义模板/风格
4. 点击"生成"按钮
5. 等待 AI 生成完成
6. 下载 HTML 代码或复制使用

### 3. 风格自定义
- 在 `style/` 目录下添加新的 `.md` 风格文件，或在界面直接输入自定义风格
- 文件第一行作为风格名称
- 文件内容作为风格描述

### 4. 模板自定义
- 在 `prompt/` 目录下修改或添加模板文件，或在界面直接输入自定义模板
- 使用 `{{变量名}}` 格式定义动态内容
- 在 `## 风格` 标记处插入风格内容

## 界面说明
- 所有主要操作卡片均为白底，标题左上角加粗，风格统一
- 下拉选择、按钮、边框等主色均为竹色#769164
- 生成结果卡片可折叠，折叠箭头在右上角
- 错误信息和加载状态有详细提示

## 故障排除

### 风格列表加载失败
1. 确保开发服务器已启动
2. 检查 `style/` 目录是否存在且包含 `.md` 文件
3. 查看浏览器控制台的错误信息
4. 确认 `/api/styles` 接口返回 200 状态码

### API 连通性问题
1. 检查 API Key 是否正确
2. 确认 API 地址是否可访问
3. 使用"测试连通性"功能诊断问题
4. 检查网络连接和防火墙设置

### 生成失败
1. 确保已选择风格和填写必要内容
2. 检查 AI 模型是否可用
3. 查看错误提示信息
4. 尝试更换不同的 AI 模型

## 开发指南

### 添加新风格
1. 在 `style/` 目录创建新的 `.md` 文件
2. 第一行写风格名称（如：`# 新风格名称`）
3. 后续内容写风格描述
4. 重启开发服务器

### 添加新平台
1. 在 `prompt/` 目录创建新的模板文件
2. 在 `app/page.tsx` 中添加平台配置
3. 更新输入项配置
4. 修改提示词构建逻辑

### 自定义 API 代理
1. 修改 `proxyUrl` 状态变量
2. 确保代理服务器支持 `/api/styles` 和 `/api/prompts` 接口
3. 测试连通性

## 更新日志

### v1.1.0 (2025-06-25)
- 支持自定义模板和自定义风格输入
- 全局竹色主题，风格统一
- 生成结果卡片可折叠，折叠箭头右上
- 错误处理和提示更友好
- 交互体验优化，所有主卡片风格一致

### v1.0.0 (2025-06-25)
- 初始版本发布
- 支持微信公众号和小红书封面生成
- 集成 8 种设计风格
- 支持多种 AI 模型
- 添加流式输出和实时预览

## 许可证

MIT License

## 贡献

欢迎提交 Issue 和 Pull Request 来改进项目。

---

**注意**：本项目仅供学习和研究使用，请遵守相关 AI 服务的使用条款。 